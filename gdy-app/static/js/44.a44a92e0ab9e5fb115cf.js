webpackJsonp([44],{ff4w:function(t,s){},jdyb:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var c=e("SQ1s"),a=e("tdg1"),i={name:"classRecord",components:{backHeader:c.a,noGood:a.a},data:function(){return{title:"",classRecordList:[],classRecordCount:0,page:1,pageSize:12,courseId:null,selectAll:!1,selectedList:[],score:null}},created:function(){},mounted:function(){},activated:function(){console.log("queryInfo>>>",this.$route.query),this.title=this.$route.query.item.courseName,this.courseId=this.$route.query.item.id,this.getClassRecordList()},methods:{back:function(){this.$router.go(-1)},getClassRecordList:function(){var t=this,s={userId:localStorage.userId,bsCode:localStorage.brandIdGDY,scopId:this.courseId,page:this.page,pageSize:this.pageSize,bsType:1,taskType:2,bsTypeSec:null},e=this.GLOBAL.g_paramJson(s);t.$axios.post("/task/task/getTaskList",e).then(function(s){"0"==s.data.head.status?1==t.page?(t.selectedList=[],t.selectAll=!1,t.classRecordList=s.data.body.vResult,t.classRecordCount=s.data.body.count):(t.classRecordList=t.classRecordList.concat(s.data.body.vResult),t.classRecordCount=s.data.body.count):t.$toast(s.data.head.msg)}).catch(function(t){console.log(t)})},classRefresh:function(){this.page=1,this.getClassRecordList()},classLoadMore:function(){this.classRecordList.length<this.classRecordCount?(this.page++,this.getClassRecordList()):this.$refs.classRecordScroll.update(!0)},checkedSelect:function(t){if(t.checked){this.$set(t,"checked",!1);for(var s=0;s<this.selectedList.length;s++)this.selectedList[s].taskId==t.taskId&&this.selectedList.splice(s,1)}else{var e={taskId:"",issuanceNumber:""};e.taskId=t.taskId,e.issuanceNumber=t.issuanceNumber,e.bachId="",this.selectedList.push(e),this.$set(t,"checked",!0)}for(var c=0;c<this.classRecordList.length;c++){if(!this.classRecordList[c].checked){this.selectAll=!1;break}this.selectAll=!0}},clickSelectAll:function(){if(this.selectAll){this.selectAll=!1;for(var t=0;t<this.classRecordList.length;t++)this.selectedList=[],this.$set(this.classRecordList[t],"checked",!1)}else{this.selectAll=!0;for(var s=0;s<this.classRecordList.length;s++){var e={taskId:"",issuanceNumber:"",bachId:""};e.taskId=this.classRecordList[s].taskId,e.issuanceNumber=this.classRecordList[s].issuanceNumber,e.bachId="",this.selectedList.push(e),this.$set(this.classRecordList[s],"checked",!0)}var c={},a=this.selectedList.reduce(function(t,s){return!c[s.taskId]&&(c[s.taskId]=t.push(s)),t},[]);this.selectedList=a}},delBtn:function(){Dialog.confirm({message:"确认删除该记录信息吗?"}).then(function(){}).catch(function(){_this.$toast("已取消")})},toCheck:function(){console.log("点击测一测")}}},l={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"classRecord"}},[e("div",{staticStyle:{height:"1.2rem"}},[e("backHeader",{attrs:{title:t.title+"--历史记录"}},[e("span",{staticClass:"head-class f-l",attrs:{slot:"left"},on:{click:t.back},slot:"left"},[t._t("default",[e("img",{staticClass:"back-icon",attrs:{src:"static/images/dev/back@2x.png",alt:""}})])],2),t._v(" "),e("span",{staticClass:"head-class place-label",attrs:{slot:"right"},slot:"right"})])],1),t._v(" "),e("Scroll",{ref:"classRecordScroll",staticClass:"classRecordScrollCon",attrs:{"update-data":[t.classRecordList],"refresh-data":[],probeType:3,listenScroll:!0,autoUpdate:!1,scrollX:!1,scrollY:!0},on:{pullingDown:t.classRefresh,pullingUp:t.classLoadMore}},[t.classRecordList.length>0?e("div",{staticStyle:{"padding-top":"0.5px"}},t._l(t.classRecordList,function(s,c){return e("div",{key:c,staticClass:"itemBox"},[e("div",{staticClass:"checkedSelect",on:{click:function(e){e.stopPropagation(),t.checkedSelect(s,c)}}},[s.checked?e("img",{attrs:{src:"static/images/icon/choosed.png",alt:""}}):e("img",{attrs:{src:"static/images/icon/no-choose.png",alt:""}})]),t._v(" "),e("div",{staticClass:"finishTime"},[t._v(t._s(s.finshTime))]),t._v(" "),e("div",{staticClass:"score"},[t._v(t._s(s.maxFraction))])])})):e("div",{staticClass:"noData",staticStyle:{"padding-top":"0.5px"}},[e("noGood")],1)]),t._v(" "),e("div",{staticClass:"delBox"},[e("div",{staticClass:"selectCircle",on:{click:function(s){t.clickSelectAll()}}},[t.selectAll?e("img",{attrs:{src:"static/images/icon/choosed.png",alt:""}}):e("img",{attrs:{src:"static/images/icon/no-choose.png",alt:""}}),t._v(" "),e("span",{staticStyle:{"margin-left":"5px"}},[t._v("全选")])]),t._v(" "),e("div",{staticClass:"countBox"},[t._v("共计"+t._s(t.selectedList.length)+"/"+t._s(t.classRecordCount))]),t._v(" "),e("van-button",{staticClass:"delBtn",attrs:{type:"info"},on:{click:function(s){t.delBtn()}}},[t._v("删除")]),t._v(" "),e("van-button",{staticClass:"startBtn",attrs:{type:"info"},on:{click:function(s){t.toCheck()}}},[t._v("测一测")])],1)],1)},staticRenderFns:[]};var o=e("VU/8")(i,l,!1,function(t){e("ff4w")},"data-v-23cc3d90",null);s.default=o.exports}});