webpackJsonp([32],{aLY6:function(e,t){},"n+Rd":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("Ylnc"),o=a("Au9i"),s={name:"updateUserInfo",components:{Header:i.a},data:function(){return{titleLabel:"用户名",prepage:"nickName",nickName:"",telePhone:"",job:"",sign:""}},methods:{initUserInfo:function(){this.nickName="null"!==localStorage.getItem("nickName")?localStorage.getItem("nickName"):"",this.job="null"!==localStorage.getItem("job")?localStorage.getItem("job"):"",this.sign="null"!==localStorage.getItem("autoGraph")?localStorage.getItem("autoGraph"):"",this.telePhone="null"!==localStorage.getItem("telePhone")?localStorage.getItem("telePhone"):""},updateInfo:function(){if("nickName"==this.prepage&&this.nickName.length>10)Object(o.Toast)("最多10个汉字哦");else if("job"==this.prepage&&this.job.length>10)Object(o.Toast)("最多10个汉字哦");else if("sign"==this.prepage&&this.sign.length>20)Object(o.Toast)("最多20个汉字哦");else if("telePhone"==this.prepage){""==this.telePhone?this.updateInfoRequest():/^((13|14|15|16|17|18|19)[0-9]{1}\d{8})$/.test(this.telePhone)?this.updateInfoRequest():Object(o.Toast)("手机格式不正确！")}else this.updateInfoRequest()},back:function(){this.$router.go(-1)},updateInfoRequest:function(){var e=this,t={userId:localStorage.getItem("userId"),nickName:this.nickName,job:this.job,autoGraph:this.sign,telePhone:this.telePhone};e.$axios.post("/api/userInfo/upUserInfo",t).then(function(t){"200"==t.data.code?(Object(o.Toast)("保存成功"),localStorage.nickName=e.nickName,localStorage.job=e.job,localStorage.autoGraph=e.sign,localStorage.telePhone=e.telePhone,e.$router.go(-1)):Object(o.Toast)("保存失败！")}).catch(function(e){console.log(e)})}},created:function(){this.prepage=this.$route.query.prePage,"nickName"==this.prepage?this.titleLabel="更改用户名":"job"==this.prepage?this.titleLabel="更改岗位":"telePhone"==this.prepage?this.titleLabel="更改电话":"sign"==this.prepage&&(this.titleLabel="更改个人签名"),this.nickName=this.$route.query.nickName,this.job=this.$route.query.job,this.sign=this.$route.query.sign,this.telePhone=this.$route.query.telePhone},activated:function(){this.initUserInfo()}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"updateUserInfo"}},[a("div",{staticClass:"header"},[a("div",{on:{click:e.back}},[a("img",{attrs:{src:"static/images/dev/back@2x.png"}})]),e._v(" "),"nickName"==e.prepage?a("span",[e._v("修改真实姓名")]):e._e(),e._v(" "),"job"==e.prepage?a("span",[e._v("修改岗位")]):e._e(),e._v(" "),"sign"==e.prepage?a("span",[e._v("修改签名")]):e._e(),e._v(" "),"telePhone"==e.prepage?a("span",[e._v("修改电话")]):e._e(),e._v(" "),a("span",{staticClass:"right",on:{click:e.updateInfo}},[e._v("确定")])]),e._v(" "),"nickName"==e.prepage?a("div",{staticClass:"update-con"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.nickName,expression:"nickName"}],staticClass:"ipt",attrs:{type:"text",placeholder:"请输入名字"},domProps:{value:e.nickName},on:{input:function(t){t.target.composing||(e.nickName=t.target.value)}}}),e._v(" "),a("div",{staticClass:"tip"},[e._v("好名字更容易让朋友记住你哦")])]):e._e(),e._v(" "),"telePhone"==e.prepage?a("div",{staticClass:"update-con"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.telePhone,expression:"telePhone"}],staticClass:"ipt",attrs:{type:"text",placeholder:"请输入电话"},domProps:{value:e.telePhone},on:{input:function(t){t.target.composing||(e.telePhone=t.target.value)}}}),e._v(" "),a("div",{staticClass:"tip"},[e._v("请注意电话格式哦")])]):e._e(),e._v(" "),"job"==e.prepage?a("div",{staticClass:"update-con"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.job,expression:"job"}],staticClass:"ipt",attrs:{type:"text",placeholder:"请输入岗位"},domProps:{value:e.job},on:{input:function(t){t.target.composing||(e.job=t.target.value)}}})]):e._e(),e._v(" "),"sign"==e.prepage?a("div",{staticClass:"update-con"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sign,expression:"sign"}],staticClass:"ipt",attrs:{type:"text",placeholder:"留下点什么..."},domProps:{value:e.sign},on:{input:function(t){t.target.composing||(e.sign=t.target.value)}}}),e._v(" "),a("div",{staticClass:"tip"},[e._v("好签名更能彰显你的个人特色哦")])]):e._e()])},staticRenderFns:[]};var l=a("VU/8")(s,n,!1,function(e){a("aLY6")},"data-v-56cd2d58",null);t.default=l.exports}});