webpackJsonp([24],{qIxk:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=s("Ylnc"),e=s("4duW"),i={name:"tryCollacation",components:{Header:l.a,loadAll:e.a},data:function(){return{styleId:"",styleNo:"",styleImgUrl:"",styleTitle:"",styleLabel:"",stylePrice:"",tryCollArr:[],loadingFlag:!0,activeTab:1}},created:function(){this.styleId=this.$route.query.styleId},mounted:function(){this.getCollInfo(this.styleId)},activated:function(){if(this.$route.query.typeId){var t=this.$route.query.typeId;1==t?this.activeTab=1:2==t&&(this.activeTab=2)}this.getCollInfo(this.styleId)},methods:{changeActiveTab:function(t){this.activeTab!=t&&(this.activeTab=t)},getCollInfo:function(t){var a=this,s={id:t};a.$axios.post("/api/style/getCollInfo",s).then(function(t){var s=t.data;"200"==s.code&&(a.loadingFlag=!1,a.styleNo=s.data.styleNo,a.styleImgUrl=s.data.imgUrls.split(",")[0],a.styleTitle=s.data.styleName,a.stylePrice=s.data.stylePrice,null!=s.data.styleLabel&&(a.styleLabel=s.data.styleLabel),a.tryCollArr=s.data.collList,a.beautyList=s.data.dpCollList,a.initCollsScroll())}).catch(function(t){console.log(t)})},initCollsScroll:function(){var t=this;t.$nextTick(function(){for(var a=1;a<=t.tryCollArr.length;a++){var s="collItemScroll"+a;t[s]?t[s].refresh():t[s]=new t.$BScroll(t.$refs[s][0],{scrollX:!0,scrollY:!1,useTransition:!1})}})},toStyleDetail:function(t){this.$router.push({path:"/styleDetail",query:{collId:t,stemp:(new Date).getTime()}})},toShopCollDetail:function(t){this.$router.push({path:"/shopCollDetail",query:{collId:t,collStatus:3,stemp:(new Date).getTime()}})},toGoodsDetail:function(t){var a={path:"/goodsDetail2",query:{styleId:t,stamp:(new Date).getTime()}};this.$router.push(a)},addColl:function(){this.$router.push({path:"/addCollocation"})}}},o={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{attrs:{id:"tryCollocation"}},[s("div",{staticClass:"headClass",staticStyle:{height:"1.2rem"}},[s("Header",{attrs:{title:"试试这样搭"}})],1),t._v(" "),t.loadingFlag?s("div",[s("van-loading",{attrs:{color:"#00a2ea"}})],1):s("div",[s("div",{staticClass:"try-collocation"},[s("div",{staticClass:"this-clothes"},[s("div",{staticClass:"this-style"},[s("img",{attrs:{src:t.styleImgUrl,alt:""}}),t._v(" "),s("div",{staticClass:"this-info"},[s("div",{staticClass:"this-title"},[t._v(t._s(t.styleTitle))]),t._v(" "),s("span",{staticClass:"style-num"},[t._v(t._s(t.styleNo))]),t._v(" "),s("div",{staticClass:"this-desc"},[s("span"),t._v(t._s(t.styleLabel))]),t._v(" "),s("div",{staticClass:"price"},[s("span",{staticClass:"symble"},[t._v("￥")]),t._v(t._s(t.stylePrice))])])])]),t._v(" "),s("div",{staticClass:"coll-tab"},[s("div",{staticClass:"brandRec",class:{active:1==t.activeTab},on:{click:function(a){t.changeActiveTab(1)}}},[s("span",[t._v("品牌推荐")])]),t._v(" "),s("div",{staticClass:"beautyPhoto",class:{active:2==t.activeTab},on:{click:function(a){t.changeActiveTab(2)}}},[s("span",[t._v("店铺搭配")])])]),t._v(" "),s("Scroll",{directives:[{name:"show",rawName:"v-show",value:1==t.activeTab,expression:"activeTab == 1"}],ref:"collBodyScroll",staticClass:"collBody",attrs:{probeType:3,bounceTime:0,listenScroll:!0,pullDown:!1,pullUp:!1}},[s("div",{staticClass:"brandRecList"},t._l(t.tryCollArr,function(a,l){return s("div",{key:l,staticClass:"brandItem"},[s("img",{attrs:{src:a.imgUrl,alt:""},on:{click:function(s){t.toStyleDetail(a.id)}}}),t._v(" "),s("div",{staticClass:"collLabel"},[t._v(t._s(a.collName))]),t._v(" "),s("div",{ref:"collItemScroll"+(l+1),refInFor:!0,staticClass:"coll-item"},[s("div",{staticClass:"inner-list clear"},t._l(a.styleList,function(a,l){return s("div",{key:l,staticClass:"inner-item fl",on:{click:function(s){t.toGoodsDetail(a.id)}}},[s("img",{attrs:{src:a.imgUrl,alt:""}})])}))])])})),t._v(" "),s("loadAll")],1),t._v(" "),s("Scroll",{directives:[{name:"show",rawName:"v-show",value:2==t.activeTab,expression:"activeTab == 2"}],ref:"beautyList",staticClass:"beautyList",attrs:{probeType:3,bounceTime:0,listenScroll:!0,pullDown:!1,pullUp:!1}},[s("div",{staticClass:"beautyListBox"},t._l(t.beautyList,function(a,l){return s("div",{key:l,staticClass:"beautyItem",on:{click:function(s){t.toShopCollDetail(a.id)}}},[s("img",{attrs:{src:a.imgUrl,alt:""}}),t._v(" "),a.collInterpretation?s("div",{staticClass:"comment"},[t._v(t._s(a.collInterpretation))]):s("div",{staticClass:"comment"},[t._v("推荐理由推荐理由推荐理由推荐理由推荐理由")]),t._v(" "),s("div",{staticClass:"reviewerBox"},[a.headPortrait?s("img",{staticClass:"avatar",attrs:{src:a.headPortrait,alt:""}}):s("img",{staticClass:"avatar",attrs:{src:"static/images/default/avatarGirl.png",alt:""}}),t._v(" "),s("span",{staticClass:"name"},[t._v(t._s(a.userName))]),t._v(" "),s("img",{staticClass:"praiseIcon",attrs:{src:"static/images/icon/praise-grey.png",alt:""}}),t._v(" "),s("span",{staticClass:"num"},[t._v(t._s(a.aeNumber))])])])})),t._v(" "),s("loadAll")],1)],1)])])},staticRenderFns:[]};var c=s("VU/8")(i,o,!1,function(t){s("rlWx")},"data-v-a711ece0",null);a.default=c.exports},rlWx:function(t,a){}});