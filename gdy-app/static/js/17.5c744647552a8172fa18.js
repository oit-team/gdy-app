webpackJsonp([17],{T3Uk:function(t,s){},dXIW:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("mvHQ"),i=a.n(e),o=(a("Au9i"),a("Ylnc")),r=a("SQ1s"),n=a("tdg1"),c={name:"radial",props:{size:{type:[String,Number],default:155},content:String,color:{type:String,default:"#00b3ef"},backgroundColor:{type:String,default:"#7fd9f7"},percentNum:{type:[String,Number],default:0},speed:{type:[String,Number],default:1}},data:function(){return{percent:0,initDeg:0,timeId:null,animationing:!1}},created:function(){this.goRotate(this.transformToDeg(this.percentNum))},watch:{percentNum:function(t){this.animationing||this.goRotate(this.transformToDeg(t))}},methods:{transformToDeg:function(t){return t>=100?360:parseInt(360*t/100)},transformToPercent:function(t){return t>=360?100:parseInt(100*t/360)},rotateLeft:function(t){this.$refs.leftcontent.style.transform="rotate("+(t-180)+"deg)"},rotateRight:function(t){this.$refs.rightcontent.style.transform="rotate("+t+"deg)"},goRotate:function(t){var s=this;this.animationing=!0,this.timeId=setInterval(function(){t>s.initDeg?(s.initDeg+=Number(s.speed),s.initDeg>=180?(s.rotateLeft(s.initDeg),s.rotateRight(180)):s.rotateRight(s.initDeg)):(s.initDeg-=Number(s.speed),s.initDeg>=180?s.rotateLeft(s.initDeg):(s.rotateLeft(180),s.rotateRight(s.initDeg))),s.percent=s.transformToPercent(s.initDeg);var a=Number(t)-s.initDeg;Math.abs(a)<s.speed&&(s.initDeg+=a,s.initDeg>180?s.rotateLeft(t):s.rotateRight(t),s.animationFinished())},10)},animationFinished:function(){this.percent=this.percentNum,this.animationing=!1,clearInterval(this.timeId),this.$emit("animationFinished")}}},l={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"radial",style:{width:t.size+"px",height:t.size+"px"}},[a("div",{staticClass:"percentloop"},[a("div",{staticClass:"circle-left",style:{backgroundColor:t.color}},[a("div",{ref:"leftcontent",style:{backgroundColor:t.backgroundColor}})]),t._v(" "),a("div",{staticClass:"circle-right",style:{backgroundColor:t.color}},[a("div",{ref:"rightcontent",style:{backgroundColor:t.backgroundColor}})]),t._v(" "),a("div",{staticClass:"content-wrap"},[a("span",{staticClass:"content-number",attrs:{title:t.percent+"%"}},[t._v(t._s(t.percent)+"%")]),t._v(" "),a("span",{staticClass:"content-text",attrs:{title:t.content}},[t._v(t._s(t.content))])])])])},staticRenderFns:[]};var d=a("VU/8")(c,l,!1,function(t){a("T3Uk")},null,null).exports,u={name:"taskReport",components:{Header:o.a,backHeader:r.a,noGood:n.a,Radial:d},data:function(){return{query:[],tastReportList:{},percent:"",dateName:"",page:1,pageSize:100,staffHaveListId:"",BACHID:"",curBachId:null,model:"2"}},created:function(){},mounted:function(){},activated:function(){this.curBachId=this.$route.query.bachId,localStorage.analy=1,this.kaoti(),this.dateName=localStorage.dateName,this.query=this.$route.query.item,this.testReportShow(this.curBachId)},watch:{},methods:{kaoti:function(){var t=this,s={taskId:localStorage.taskId,issuanceNumber:localStorage.issuanceNumber,model:this.model},a=this.GLOBAL.g_paramJson(s);t.$axios.post("/task/task/getInstance",a).then(function(s){0==s.data.head.status?t.goodsTestDetailList=s.data.body:t.$toast(s.data.head.msg)}).catch(function(t){console.log(t)})},analysis:function(){localStorage.testFlag=!0,setTimeout(function(){localStorage.removeItem("testFlag")},3e3),localStorage.curTestNum=0,localStorage.analysisList=i()(this.tastReportList),this.$router.push({path:"./taskTestTopic",query:{jiexi:1,BACHID:this.curBachId,kaotiList:this.goodsTestDetailList}})},back:function(){localStorage.removeItem("analy"),localStorage.removeItem("ceyice"),1!=localStorage.bsType&&2!=localStorage.bsType?3!=localStorage.bsType||(localStorage.atts?(localStorage.removeItem("atts"),this.$router.push({path:"/taskBatch",query:{atts:1}})):this.$router.push({path:"/taskBatch"})):this.$router.push({path:"/checkRecord"})},staffHaveShow:function(){var t=this,s={taskId:localStorage.taskId,userId:localStorage.userId,issuanceNumber:localStorage.issuanceNumber,page:this.page,pageSize:this.pageSize},a=this.GLOBAL.g_paramJson(s);t.$axios.post("/task/task/getTaskBatch",a).then(function(s){0==s.data.head.status&&(t.staffHaveListId=s.data.body.bachList[s.data.body.bachList.length-1].bachId,t.testReportShow())}).catch(function(t){console.log(t)})},testReportShow:function(t){var s=this,a={bachId:localStorage.curBachId,taskId:localStorage.taskId,userId:localStorage.userId,issuanceNumber:localStorage.issuanceNumber},e=this.GLOBAL.g_paramJson(a);s.$axios.post("/task/task/getTaskResult",e).then(function(t){if(0==t.data.head.status){s.tastReportList=t.data.body;for(var a=0,e=0;e<s.tastReportList.list.length;e++)1==s.tastReportList.list[e].correct&&(a+=1);s.percent=Number(a/s.tastReportList.list.length*100)}else s.$toast(t.data.head.msg)}).catch(function(t){console.log(t)})},analysisList:function(t){localStorage.testFlag=!0,setTimeout(function(){localStorage.removeItem("testFlag")},3e3),localStorage.curTestNum=t,localStorage.analysisList=i()(this.tastReportList),this.$router.push({path:"./taskTestTopic",query:{jiexi:1,num1:t,BACHID:this.curBachId,kaotiList:this.goodsTestDetailList}})}}},h={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"taskReport"}},[a("div",{staticClass:"headBox",staticStyle:{height:"1.2rem"}},[a("backHeader",{attrs:{title:"报告"}},[a("span",{staticClass:"head-class f-l",attrs:{slot:"left"},on:{click:t.back},slot:"left"},[t._t("default",[a("img",{staticClass:"back-icon",attrs:{src:"static/images/dev/back@2x.png",alt:""}})])],2),t._v(" "),a("span",{staticClass:"head-class place-label",attrs:{slot:"right"},slot:"right"})])],1),t._v(" "),a("Scroll",{ref:"testReportScroll",staticClass:"testReportCon",attrs:{probeType:3,listenScroll:!0,autoUpdate:!1,scrollX:!1,scrollY:!0,pullDown:!1,pullUp:!1}},[a("div",{staticClass:"bodys"},[a("div",{staticClass:"radial"},[a("Radial",{attrs:{percentNum:t.percent,speed:"3",size:"120",color:"#4FD5AC",backgroundColor:"#e6e5e5",content:"正确率"}})],1),t._v(" "),a("div",{staticClass:"bodysTop"},[a("div",{staticClass:"lists"},[a("div",{staticClass:"listsTop"},[a("img",{attrs:{src:"static/images/icon/ti.png"}})]),t._v(" "),a("div",{staticClass:"listsBom"},[a("div",{staticClass:"tspan"},[t._v("考核范围")]),t._v(" "),a("div",{staticClass:"bspan"},[t._v(t._s(t.dateName))])])]),t._v(" "),a("div",{staticClass:"listss"},[a("div",{staticClass:"listsTop"},[a("img",{attrs:{src:"static/images/icon/shijian.png"}})]),t._v(" "),a("div",{staticClass:"listsBom"},[a("div",{staticClass:"tspan"},[t._v("用时")]),t._v(" "),a("div",{staticClass:"bspan"},[t._v(t._s(parseInt(t.tastReportList.useTime/60))+"分"+t._s(t.tastReportList.useTime%60)+"秒")])])])]),t._v(" "),a("div",{staticClass:"bodysBom"},t._l(t.tastReportList.list,function(s,e){return a("div",{key:e,staticClass:"bodysBomIn",on:{click:function(s){t.analysisList(e)}}},[a("span",{staticClass:"bodysBomInIn",class:1==s.correct?"active":3==s.correct?"warning":""},[t._v(t._s(e+1))])])}))])]),t._v(" "),t.tastReportList.usedTimes&&t.tastReportList.usedTimes>t.tastReportList.timesLimit||t.tastReportList.timesLimit&&t.tastReportList.usedTimes<t.tastReportList.timesLimit?a("div",{staticClass:"footer"},[a("van-button",{staticClass:"startBtn",attrs:{round:"",type:"info"},on:{click:t.analysis}},[t._v("题目解析")])],1):a("div",{staticClass:"footer1"},[a("van-button",{staticClass:"startBtn",attrs:{round:"",type:"info"},on:{click:t.analysis}},[t._v("题目解析")])],1)],1)},staticRenderFns:[]};var g=a("VU/8")(u,h,!1,function(t){a("thse")},"data-v-06e02b3f",null);s.default=g.exports},thse:function(t,s){}});