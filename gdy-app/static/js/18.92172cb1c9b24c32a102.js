webpackJsonp([18],{"0lsP":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("LOkV"),o=a("4duW"),l=a("tdg1"),r={name:"",components:{loadAll:o.a,noGood:l.a},data:function(){return{value:"",defaultValue:"毛衣",searchList:[{}],page:1,pageSize:12,isLoaded:!0,isOver:!1,resTotal:0}},methods:{loadedImg:function(){},back:function(){this.$router.go(-1),localStorage.removeItem("search")},toSearch:function(e){this.page=1,this.$refs.search.blur(),this.search(e)},search:function(e){var t=this;""==t.value&&(t.value=t.defaultValue),1==t.page&&s.a.loading(),t.$axios.get("/api/style/search/"+t.value+"?currentPage="+t.page+"&pageSize="+t.pageSize+"&brandId="+localStorage.brandId).then(function(e){var a=e.data;console.log(a),"200"==a.code&&(1==t.page?t.searchList=a.data.list:t.searchList=t.searchList.concat(a.data.list),t.resTotal=a.data.total)}).catch(function(e){console.log(e)})},rescollRefresh:function(){this.page=1,this.search()},rescollLoadMore:function(){this.searchList.length<this.resTotal?(this.page++,this.search()):this.$refs.searchResScroll.update(!0)},initOrReloadScroll:function(){var e=this;e.$nextTick(function(){e.scrollView?e.scrollView.refresh():(e.scrollView=new e.$BScroll(e.$refs.scrollView,{scrollX:!1,scrollY:!0,click:!0,probeType:3,useTransition:!1}),e.scrollView.on("scroll",function(t){t.y-e.scrollView.maxScrollY<600&&e.isLoaded&&!e.isOver&&(console.log(!0),e.isLoaded=!1,e.page++,e.search())}))})},toGoods:function(e){var t={path:"/goodsDetail2",query:{styleId:e,stamp:(new Date).getTime()}};localStorage.search=this.value,this.$router.push(t)}},mounted:function(){var e=null==localStorage.search?this.$route.query.value:localStorage.search;this.value=e,this.search(e)},updated:function(){}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"searchResultMain",on:{touchmove:function(e){e.preventDefault()}}},[a("div",{staticClass:"hd_select"},[a("img",{attrs:{src:"static/images/dev/back@2x.png"},on:{click:e.back}}),e._v(" "),a("div",{staticClass:"hd_input_wrap"},[a("span",{staticClass:"icon select"}),e._v(" "),a("form",{staticStyle:{width:"100%"},attrs:{action:"javascript:return true"},on:{submit:function(e){e.preventDefault()}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"search",attrs:{type:"search",placeholder:e.defaultValue},domProps:{value:e.value},on:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.toSearch()},input:function(t){t.target.composing||(e.value=t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"search",on:{click:function(t){e.toSearch()}}},[e._v("搜索")])]),e._v(" "),a("Scroll",{ref:"searchResScroll",staticClass:"searchResBody",attrs:{"update-data":[e.searchList],"refresh-data":[],probeType:3,listenScroll:!0,scrollX:!1,scrollY:!0,autoUpdate:!1},on:{pullingDown:e.rescollRefresh,pullingUp:e.rescollLoadMore}},[e.searchList.length>0?a("ul",{staticClass:"recommended"},e._l(e.searchList,function(t,s){return a("div",{key:s,staticClass:"keyStyle-item fl",on:{click:function(a){e.toGoods(t.id)}}},[a("div",{staticClass:"goods-img-box"},[a("img",{staticClass:"goods-img",attrs:{src:t.imgUrl,alt:""}})]),e._v(" "),a("div",{staticClass:"goods-num"},[e._v(e._s(t.styleNo))]),e._v(" "),a("div",{staticClass:"goods-stylePrice"},[a("div",{staticClass:"money-symbel"},[e._v("¥"+e._s(t.stylePrice))])])])})):a("div",{staticClass:"noData"},[a("noGood")],1)])],1)},staticRenderFns:[]};var i=a("VU/8")(r,c,!1,function(e){a("UO8F")},"data-v-f70d8114",null);t.default=i.exports},UO8F:function(e,t){}});